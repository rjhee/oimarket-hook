{"version":3,"sources":["fireBase.js","components/navbar.jsx","components/footerMenu.jsx","components/join.jsx","components/login.jsx","components/productDetail.jsx","components/product.jsx","components/productList.jsx","components/userProfile.jsx","components/uploadForm.jsx","components/edit.jsx","components/chat.jsx","components/chatList.jsx","components/chatroom.jsx","App.js","index.js"],"names":["firebaseApp","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","storage","firebaseAppAuth","auth","database","Navbar","to","className","FooterMenu","props","as","Link","onClick","getChatList","Join","history","useHistory","useState","already","badly","password","etc","errorMessageKo","onSubmit","event","a","preventDefault","createUserWithEmailAndPassword","email","then","userCredential","uid","user","userProfile","name","collection","doc","set","updateProfile","displayName","alert","push","catch","error","console","log","errorMessage","message","includes","type","placeholder","autoFocus","required","onChange","value","Login","onSubmitLogin","ProductDetail","id","useParams","product","products","find","month","time","day","hours","minutes","uploadDate","productImg","backgroundImage","img","useEffect","window","scrollTo","style","title","getProductDetail","deleteProduct","price","location","desc","createChat","getChatMessages","Product","loction","ProductList","map","UserProfile","isUser","NO_NAME","ISUSER_TEXT","ISUSER_PATH","htmlFor","accept","onClickLogout","UploadForm","onSubmitUploadForm","onProductChange","onFileChange","Edit","onSubmitEdit","editProduct","onEditChange","Chat","chat","chatDate","ChatList","chatList","path","component","ChatRoom","zero","PMAM","chatData","chatMessage","chatMessages","lastLi","document","querySelector","scrollIntoView","block","content","createChatMessages","onMessageChange","Modal","App","uploadid","uploaduid","uploaduser","uploadtitle","uploadprice","uploaddesc","uploadimg","messageContent","messageTime","setProducts","setName","setEmail","setPassword","setUser","setIsUser","setEditProduct","setChatList","setChatMessages","chatRoom","setChatRoom","getData","orderBy","get","forEach","productObject","data","prev","target","signInWithEmailAndPassword","result","pathname","goBack","signOut","files","storageRef","ref","imgSavePath","child","uploadImg","put","on","snapshot","getDownloadURL","url","modal","setModal","date","Date","year","getFullYear","getMonth","getDate","getHours","getMinutes","getTime","uploadProductObject","add","setTimeout","substr","edittitle","editprice","editdesc","delete","who","order","chatRoomId","where","onSnapshot","db","chatListObject","firstChild","focus","messageDataObject","idLocation","chatId","chatMessagesObject","exact","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.7db5bc79.chunk.js","sourcesContent":["import firebase from 'firebase/app';\nimport 'firebase/database';\nimport 'firebase/firestore';\nimport 'firebase/storage';\nimport 'firebase/auth';\n\nconst firebaseConfig = {\n  apiKey: 'AIzaSyBaCmuwlNoUQufMLaFDIXe82FGnfRUVsRA',\n  authDomain: 'oimarket-f7461.firebaseapp.com',\n  projectId: 'oimarket-f7461',\n  storageBucket: 'oimarket-f7461.appspot.com',\n  messagingSenderId: '374434336766',\n  appId: '1:374434336766:web:fb61fd2cb89da7738b3aaf',\n  measurementId: 'G-GN8P8CYKXL',\n};\n\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\nconst firestore = firebase.firestore();\nconst storage = firebase.storage();\nconst firebaseAppAuth = firebaseApp.auth();\nconst database = firebase.database();\n// const providers = {\n//   googleProvider: new firebase.auth.GoogleAuthProvider(),\n// };\n\nexport { firestore, storage, firebaseAppAuth, database };\n\nexport function signUp(email, password) {\n  return firebaseAppAuth.createUserWithEmailAndPassword(email, password);\n}\n\nexport function signIn(email, password) {\n  return firebaseAppAuth.signInWithEmailAndPassword(email, password);\n}\n\nexport function logout() {\n  return firebaseAppAuth.signOut();\n}\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nfunction Navbar() {\n  return (\n    <nav>\n      <Link to=\"/\">\n        <h1 className=\"nav-logo\">\n          <i className=\"icon-cucumber\"></i>\n          <strong>오이마켓</strong>\n        </h1>\n      </Link>\n      <div className=\"toggle-cover\">\n        <button className=\"nav-search\">\n          <i className=\"icon-search\"></i>\n        </button>\n      </div>\n    </nav>\n  );\n}\n\nexport default Navbar;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nfunction FooterMenu(props) {\n  return (\n    <footer>\n      <ul className=\"footer-menu\">\n        <li>\n          <Link to=\"/\">\n            <i className=\"icon-home\"></i>\n          </Link>\n        </li>\n        <li>\n          <Link to=\"/\">\n            <i className=\"icon-navigation\"></i>\n          </Link>\n        </li>\n        <li className=\"footer-upload\">\n          <Link as={Link} to=\"/uploadForm\">\n            <i className=\"icon-plus\"></i>\n          </Link>\n        </li>\n        <Link to=\"/chatList\">\n          <li\n            onClick={() => {\n              props.getChatList();\n            }}\n          >\n            <i className=\"icon-chat2\"></i>\n          </li>\n        </Link>\n        <li>\n          <Link as={Link} to=\"/userProfile\">\n            <i className=\"icon-user\"></i>\n          </Link>\n        </li>\n      </ul>\n    </footer>\n  );\n}\n\nexport default FooterMenu;\n","import { useState } from 'react';\nimport { useHistory, Link } from 'react-router-dom';\nimport { firebaseAppAuth, firestore } from '../fireBase';\n\nconst Join = (props) => {\n  let history = useHistory();\n\n  const [errorMessageKo, setErrorMessageKo] = useState({\n    already: '이미 가입되어있는 이메일 입니다!',\n    badly: '유효한 이메일이 아닙니다',\n    password: '비밀번호는 6자리 이상 입력해주세요',\n    etc: '다시 입력해주세요',\n  });\n\n  const onSubmit = async (event) => {\n    event.preventDefault();\n    firebaseAppAuth\n      .createUserWithEmailAndPassword(props.email, props.password)\n      .then((userCredential) => {\n        let uid = userCredential.user.uid;\n        let userProfile = { name: props.name, email: props.email };\n\n        firestore.collection('user').doc(uid).set(userProfile);\n\n        userCredential.user\n          .updateProfile({\n            displayName: props.name,\n          })\n          .then(() => alert(props.name + '님 회원가입이 완료 되었습니다'))\n          .then(() => {\n            history.push('/login');\n          });\n      })\n      .catch((error) => {\n        console.log(error);\n        let errorMessage = error.message;\n        if (errorMessage.includes('already')) {\n          alert(errorMessageKo.already);\n        } else if (errorMessage.includes('badly')) {\n          alert(errorMessageKo.badly);\n        } else if (errorMessage.includes('6')) {\n          alert(errorMessageKo.password);\n        } else if (error) {\n          alert(errorMessageKo.etc);\n        }\n      });\n  };\n\n  return (\n    <section className=\"join\">\n      <h1>회원가입</h1>\n      <form onSubmit={onSubmit}>\n        <input\n          name=\"name\"\n          type=\"text\"\n          placeholder=\"이름\"\n          className=\"user-name\"\n          autoFocus\n          required\n          onChange={props.onChange}\n          value={props.name}\n        />\n        <input\n          name=\"email\"\n          type=\"email\"\n          placeholder=\"이메일@email.com\"\n          className=\"user-email\"\n          required\n          onChange={props.onChange}\n          value={props.email}\n        />\n        <input\n          name=\"password\"\n          type=\"password\"\n          placeholder=\"비밀번호 (4자리 이상)\"\n          className=\"user-password\"\n          required\n          onChange={props.onChange}\n          value={props.password}\n        />\n        <div className=\"line\"></div>\n        <button type=\"submit\" className=\"join-btn\">\n          가입하기\n        </button>\n      </form>\n      <div className=\"join-link\">\n        <span>회원이신가요?</span>\n        <Link to=\"/login\">\n          <button>로그인하기</button>\n        </Link>\n      </div>\n    </section>\n  );\n};\n\nexport default Join;\n","import React from 'react';\nimport { useHistory, Link } from 'react-router-dom';\n\nfunction Login(props) {\n  let history = useHistory();\n  return (\n    <section className=\"login\">\n      <h1>로그인</h1>\n      <form onSubmit={props.onSubmitLogin}>\n        <input\n          name=\"email\"\n          type=\"email\"\n          placeholder=\"이메일@email.com\"\n          className=\"user-email\"\n          required\n          onChange={props.onChange}\n          value={props.email}\n        />\n        <input\n          name=\"password\"\n          type=\"password\"\n          placeholder=\"비밀번호 (4자리 이상)\"\n          className=\"user-password\"\n          required\n          onChange={props.onChange}\n          value={props.password}\n        />\n        <div className=\"line\"></div>\n        <button type=\"submit\" className=\"login-btn\">\n          로그인하기\n        </button>\n      </form>\n      <div className=\"join-link\">\n        <span>회원이아니신가요?</span>\n        <Link to=\"/join\">\n          <button>회원가입하기</button>\n        </Link>\n      </div>\n    </section>\n  );\n}\n\nexport default Login;\n","import React, { useEffect } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\n\nfunction ProductDetail(props) {\n  let history = useHistory();\n  let { id } = useParams();\n\n  const product = props.products.find((product) => product.id === id);\n  const year = product.time[0];\n  const month = product.time[1];\n  const day = product.time[2];\n  const hours = product.time[3];\n  const minutes = product.time[4];\n  let uploadDate = `${month + 1}월${day}일 ${hours}시${minutes}분`;\n  const productImg = { backgroundImage: `url(${product.img})` };\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  });\n  return (\n    <section className=\"product-detail\">\n      <div className=\"img-cover\">\n        <span className=\"productImg\" style={productImg}></span>\n      </div>\n      <div className=\"product-detail-contents\">\n        <h1 className=\"title\">{product.title}</h1>\n        <div className=\"detail-btn-cover\">\n          <button\n            className=\"edit\"\n            onClick={() => {\n              history.push('/edit/' + product.id);\n              props.getProductDetail();\n            }}\n          >\n            수정\n          </button>\n\n          <button\n            className=\"delete\"\n            onClick={() => {\n              props.deleteProduct();\n            }}\n          >\n            삭제\n          </button>\n        </div>\n        <strong className=\"price\">{product.price}</strong>\n        <div className=\"product-detail-info\">\n          <div className=\"user-profile\">\n            <div className=\"user-photo\">\n              <i className=\"icon-user\"></i>\n            </div>\n            <div className=\"user-profile-cover\">\n              <span className=\"user-name\">{product.user}</span>\n              <span className=\"user-location\">{product.location}</span>\n            </div>\n          </div>\n        </div>\n\n        <p className=\"product-detail-desc\">{product.desc}</p>\n        <div className=\"product-detail-count\">\n          <span className=\"date\">{uploadDate}</span>\n          <div>\n            <span className=\"like\">찜 3</span>\n            <span className=\"comment\">채팅 3</span>\n            <span className=\"views\">조회 3</span>\n          </div>\n        </div>\n        <div className=\"product-detail-btn\">\n          <button className=\"like-btn\">\n            <i className=\"icon-heart\"></i>\n          </button>\n          <button\n            className=\"chat-btn\"\n            onClick={() => {\n              const chatRoomId = props.createChat();\n              chatRoomId.then((id) => {\n                history.push('/chatroom/' + id);\n                props.getChatMessages(14);\n              });\n            }}\n          >\n            채팅하기\n          </button>\n        </div>\n      </div>\n    </section>\n  );\n}\n\nexport default ProductDetail;\n","import React from 'react';\nimport { useHistory } from 'react-router-dom';\n\nfunction Product(props) {\n  let history = useHistory();\n  const productImg = { backgroundImage: `url(${props.product.img})` };\n\n  const year = props.product.time[0];\n  const month = props.product.time[1];\n  const day = props.product.time[2];\n  const hours = props.product.time[3];\n  const minutes = props.product.time[4];\n\n  let uploadDate = `${month + 1}월${day}일 ${hours}시${minutes}분`;\n  return (\n    <li\n      className=\"product\"\n      onClick={() => {\n        history.push('/productDetail/' + props.product.id);\n      }}\n    >\n      <div className=\"product-img\" style={productImg}></div>\n      <div className=\"product-info\">\n        <h3 className=\"product-title\">{props.product.title}</h3>\n        <div className=\"upload-info\">\n          <span className=\"upload-location\">{props.product.loction}</span>\n          <span className=\"upload-date\">{uploadDate}</span>\n        </div>\n        <strong className=\"product-price\">{props.product.price}</strong>\n        <div className=\"btn-group\">\n          <div className=\"like\">\n            <i className=\"far fa-heart like-btn\"></i>\n            <span className=\"like-num\">2</span>\n          </div>\n          <div className=\"comment\">\n            <i className=\"far fa-comment comment-btn\"></i>\n            <span className=\"comment-num\">0</span>\n          </div>\n        </div>\n      </div>\n    </li>\n  );\n}\n\nexport default Product;\n","import React from 'react';\nimport Product from './product';\n\nfunction ProductList(props) {\n  return (\n    <ul className=\"product-list\">\n      {props.products.map((product) => (\n        <Product key={product.id} product={product} />\n      ))}\n    </ul>\n  );\n}\n\nexport default ProductList;\n","import React, { useEffect } from 'react';\nimport { useHistory, Link } from 'react-router-dom';\n\nfunction UserProfile(props) {\n  let history = useHistory();\n  let name = props.user.name;\n  let email = props.user.email;\n  let isUser = props.isUser;\n\n  const NO_NAME = <Link to=\"/login\">로그인하기</Link>;\n  const NO_EMAIL = '로그인이 필요합니다';\n  const ISUSER_TEXT = isUser === true ? '로그아웃' : '로그인';\n  const ISUSER_PATH = isUser === true ? '/logout' : '/login';\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  });\n  return (\n    <div className=\"user\">\n      <section className=\"user-profile\">\n        <div className=\"user-profile-info\">\n          <label className=\"user-photo-cover\" htmlFor=\"user-photo\">\n            <div className=\"user-photo\"></div>\n            <i className=\"icon-user photo\"></i>\n            <i className=\"fas fa-camera camera\"></i>\n          </label>\n          <input\n            type=\"file\"\n            accept=\"image/*\"\n            id=\"user-photo\"\n            className=\"hidden\"\n          />\n          <div className=\"user-profile-cover\">\n            <h1 className=\"name\">{isUser === true ? name : NO_NAME}</h1>\n            <span className=\"location\"></span>\n            <span className=\"email\">{isUser === true ? email : NO_EMAIL}</span>\n          </div>\n        </div>\n        <div className=\"user-profile-item\">\n          <button className=\"user-goods-total\">\n            <i className=\"icon-tasks\"></i>\n          </button>\n          <button className=\"like-total\">\n            <i className=\"icon-heart\"></i>\n          </button>\n          <button className=\"setting\">\n            <i className=\"icon-setting\"></i>\n          </button>\n        </div>\n        <section className=\"user-profile-btn\">\n          {isUser === false ? (\n            <Link to=\"/join\">\n              <button className=\"user-profile-join\">회원가입</button>\n            </Link>\n          ) : null}\n          <Link to={ISUSER_PATH}>\n            <button\n              className=\"user-profile-login\"\n              onClick={isUser && props.onClickLogout}\n            >\n              {ISUSER_TEXT}\n            </button>\n          </Link>\n        </section>\n        <div className=\"line\"></div>\n        <div className=\"user-profile-service\">\n          <button className=\"notice\">\n            <i className=\"fas fa-bell\"></i>\n            <span> 공지사항</span>\n          </button>\n          <button className=\"service-center\">\n            <i className=\"fas fa-headset\"></i>\n            <span> 고객센터</span>\n          </button>\n          <button className=\"questions\">\n            <i className=\"far fa-question-circle\"></i>\n            <span>자주하는 질문</span>\n          </button>\n          <button className=\"madein\">\n            <i className=\"fas fa-users\"></i>\n            <span> 만든사람</span>\n          </button>\n        </div>\n      </section>\n      <div className=\"line\"></div>\n    </div>\n  );\n}\n\nexport default UserProfile;\n","import React, { useEffect } from 'react';\n\nfunction UploadForm(props) {\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  });\n  return (\n    <form className=\"upload-form\" onSubmit={props.onSubmitUploadForm}>\n      <input\n        name=\"title\"\n        type=\"text\"\n        className=\"upload-title\"\n        placeholder=\"글 제목\"\n        autoFocus\n        onChange={props.onProductChange}\n      />\n      <input\n        name=\"price\"\n        type=\"tel\"\n        className=\"upload-price\"\n        placeholder=\"₩ 상품 가격\"\n        onChange={props.onProductChange}\n      />\n      <textarea\n        name=\"desc\"\n        className=\"upload-desc\"\n        placeholder=\"판매하실 상품에 대한 설명을 입력해주세요!\"\n        onChange={props.onProductChange}\n      ></textarea>\n      <label htmlFor=\"upload-img\" className=\"upload-img\">\n        파일업로드\n      </label>\n      <input\n        type=\"file\"\n        id=\"upload-img\"\n        className=\"hidden\"\n        accept=\"image/*\"\n        onChange={props.onFileChange}\n      />\n      <div className=\"btn-group\">\n        <button className=\"close-btn\">뒤로가기</button>\n        <button type=\"submit\" className=\"upload-btn\">\n          글 올리기\n        </button>\n      </div>\n    </form>\n  );\n}\n\nexport default UploadForm;\n","import { useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\n\nfunction Edit(props) {\n  let { id } = useParams();\n  const product = props.products.find((product) => product.id === id);\n\n  return (\n    <form className=\"upload-form\" onSubmit={props.onSubmitEdit}>\n      <input\n        name=\"title\"\n        type=\"text\"\n        className=\"upload-title\"\n        placeholder=\"글 제목\"\n        autoFocus\n        value={props.editProduct.title}\n        onChange={props.onEditChange}\n      />\n      <input\n        name=\"price\"\n        type=\"tel\"\n        className=\"upload-price\"\n        placeholder=\"₩ 상품 가격\"\n        value={props.editProduct.price}\n        onChange={props.onEditChange}\n      />\n      <textarea\n        name=\"desc\"\n        className=\"upload-desc\"\n        placeholder=\"판매하실 상품에 대한 설명을 입력해주세 요!\"\n        value={props.editProduct.desc}\n        onChange={props.onEditChange}\n      ></textarea>\n      <label htmlFor=\"upload-img\" className=\"upload-img\">\n        파일업로드\n      </label>\n      <input\n        type=\"file\"\n        id=\"upload-img\"\n        className=\"hidden\"\n        accept=\"image/*\"\n        onChange={props.onFileChange}\n      />\n      <div className=\"btn-group\">\n        <button className=\"close-btn\">뒤로가기</button>\n        <button type=\"submit\" className=\"upload-btn\">\n          글 올리기\n        </button>\n      </div>\n    </form>\n  );\n}\n\nexport default Edit;\n","import React from 'react';\nimport { useHistory, useParams } from 'react-router';\n\nconst Chat = (props) => {\n  let history = useHistory();\n  let { id } = useParams();\n\n  const month = props.chat.time[1];\n  const day = props.chat.time[2];\n  const hours = props.chat.time[3];\n  const minutes = props.chat.time[4];\n\n  let chatDate = `${month + 1}월${day}일 ${hours}시${minutes}분`;\n\n  const productImg = {\n    backgroundImage: `url(${props.chat.img})`,\n  };\n\n  return (\n    <li\n      className=\"chat-list\"\n      onClick={() => {\n        history.push('/chatroom/' + props.chat.id);\n        // props.getChatMessages(10);\n      }}\n    >\n      <div className=\"chat-list-opponent-img\"></div>\n      <div className=\"chat-list-contents\">\n        <div className=\"chat-list-info\">\n          <span className=\"chat-list-opponent-name\">{props.chat.name[1]}</span>\n          <span className=\"chat-list-time\">{chatDate}</span>\n        </div>\n        <span className=\"chat-list-text\">{props.chat.product}</span>\n      </div>\n      <div className=\"chat-list-product-img\" style={productImg}></div>\n    </li>\n  );\n};\n\nexport default Chat;\n","import React from 'react';\nimport Chat from './chat';\nimport { Route } from 'react-router-dom';\n\nfunction ChatList(props) {\n  return (\n    <ul className=\"chat-list-box\">\n      {props.chatList.map((chat) => (\n        <Route path=\"/chat:id\" component={Chat}>\n          <Chat\n            key={chat.id}\n            chat={chat}\n            getChatMessages={props.getChatMessages}\n          />\n        </Route>\n      ))}\n    </ul>\n  );\n}\n\nexport default ChatList;\n","import React, { useEffect } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\n\nfunction ChatRoom(props) {\n  let { id } = useParams();\n  const chatData = props.chatList.find((chat) => chat.id === id);\n\n  const opponentImg = {\n    backgroundImage: `url(${chatData && chatData.img})`,\n  };\n  let chatMessage = props.chatMessages;\n  console.log(chatMessage);\n  let zero;\n  let PMAM;\n\n  const lastLi = document.querySelector('.chatting li:last-child');\n\n  useEffect(() => {\n    lastLi && lastLi.scrollIntoView({ block: 'start' });\n  }, [lastLi]);\n  return (\n    <section className=\"chatting-room\">\n      <ul className=\"chatting\">\n        {chatMessage.map((chat) => (\n          <li\n            className={\n              'chat-box' + (chat.uid === props.user.uid ? ' mine' : ' opponent')\n            }\n            key={chat.id}\n          >\n            <span className=\"chat-box-time\">\n              {\n                (chat.time[3] < 12 ? (PMAM = '오전') : (PMAM = '오후'),\n                chat.time[4] < 10 ? (zero = '0') : (zero = 0),\n                PMAM + ' ' + chat.time[3] + ':' + zero + chat.time[4])\n              }\n            </span>\n            <span className=\"chat-box-text\">{chat.content}</span>\n          </li>\n        ))}\n      </ul>\n\n      <form className=\"chatting-form\" onSubmit={props.createChatMessages}>\n        <input\n          type=\"text\"\n          name=\"chat-form-text\"\n          onChange={props.onMessageChange}\n          autoFocus\n          placeholder=\"메세지를 입력하세요\"\n        />\n        <button\n          onClick={() => {\n            props.getChatMessages(10);\n          }}\n        >\n          <i className=\"icon-send\"></i>\n        </button>\n      </form>\n    </section>\n  );\n}\n\nexport default ChatRoom;\n","import { useState, useEffect } from 'react';\n\nimport {\n  useHistory,\n  useParams,\n  Link,\n  Router,\n  Switch,\n  Route,\n} from 'react-router-dom';\nimport { firestore, storage, firebaseAppAuth } from './fireBase';\n\nimport Navbar from './components/navbar';\nimport FooterMenu from './components/footerMenu';\nimport Join from './components/join';\nimport Login from './components/login';\nimport ProductDetail from './components/productDetail';\nimport ProductList from './components/productList';\nimport UserProfile from './components/userProfile';\nimport UploadForm from './components/uploadForm';\nimport Edit from './components/edit';\nimport ChatList from './components/chatList';\nimport ChatRoom from './components/chatroom';\nimport Chat from './components/chat';\n\nconst App = () => {\n  let history = useHistory();\n  let { id } = useParams();\n  const [products, setProducts] = useState([]);\n\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  const [user, setUser] = useState({ name: '', email: '', uid: '' });\n  const [isUser, setIsUser] = useState(false);\n\n  const [editProduct, setEditProduct] = useState({\n    id: '',\n    uid: '',\n    img: '',\n    time: '',\n    title: '',\n    price: '',\n    desc: '',\n  });\n\n  const [chatList, setChatList] = useState([]);\n  const [chatMessages, setChatMessages] = useState([]);\n  const [chatRoom, setChatRoom] = useState('');\n\n  let uploadid,\n    uploaduid,\n    uploaduser,\n    uploadtitle,\n    uploadprice,\n    uploaddesc,\n    uploadimg,\n    uploadtime;\n\n  const getData = async () => {\n    const db = await firestore\n      .collection('product')\n      .orderBy('time', 'asc')\n      .get();\n\n    db.forEach((product) => {\n      const productObject = {\n        ...product.data(),\n        id: product.id,\n      };\n      setProducts((prev) => [productObject, ...prev]);\n    });\n  };\n\n  const onChange = async (event) => {\n    const {\n      target: { name, value },\n    } = event;\n\n    if (name === 'name') {\n      setName(value);\n    } else if (name === 'email') {\n      setEmail(value);\n    } else if (name === 'password') {\n      setPassword(value);\n    }\n  };\n\n  const onSubmitLogin = async (event) => {\n    event.preventDefault();\n    firebaseAppAuth\n      .signInWithEmailAndPassword(email, password)\n      .then(\n        (result) =>\n          setUser({\n            name: result.user.displayName,\n            email: result.user.email,\n            uid: result.user.uid,\n          }),\n\n        setIsUser(true)\n      )\n      .then(() => {\n        history.location.pathname === '/join'\n          ? history.goBack()\n          : history.push('/userProfile');\n      })\n      .catch((error) => console.log(error));\n  };\n\n  const onClickLogout = async () => {\n    firebaseAppAuth\n      .signOut()\n      .then(() => setIsUser(false))\n      .then(() => history.goBack());\n  };\n\n  const onProductChange = async (event) => {\n    const {\n      target: { name, value },\n    } = event;\n\n    if (name === 'title') {\n      uploadtitle = value;\n    } else if (name === 'price') {\n      uploadprice = value;\n    } else if (name === 'desc') {\n      uploaddesc = value;\n    }\n  };\n\n  const onFileChange = async (event) => {\n    const {\n      target: { files },\n    } = event;\n\n    const storageRef = storage.ref();\n    const imgSavePath = storageRef.child(`image/${files[0].name}`);\n    const uploadImg = imgSavePath.put(files[0]);\n\n    uploadImg.on(\n      'state_changed',\n      // 변화시 동작하는 함수\n      null,\n      // 에러시 동작하는 함수\n      (error) => {\n        console.log('실패사유는', error);\n      },\n      // 성공시 동작하는 함수\n      () => {\n        uploadImg.snapshot.ref\n          .getDownloadURL()\n          .then((url) => (uploadimg = url));\n      }\n    );\n  };\n\n  const [modal, setModal] = useState(false);\n\n  const onSubmitUploadForm = async (event) => {\n    event.preventDefault();\n\n    const date = new Date();\n    const year = date.getFullYear();\n    const month = date.getMonth();\n    const day = date.getDate();\n    const hours = date.getHours();\n    const minutes = date.getMinutes();\n\n    uploadid = date.getTime();\n    uploaduser = user.name;\n    uploaduid = user.uid;\n    uploadtime = [year, month, day, hours, minutes];\n\n    const uploadProductObject = {\n      id: uploadid,\n      uid: uploaduid,\n      user: uploaduser,\n      title: uploadtitle,\n      price: uploadprice,\n      desc: uploaddesc,\n      img: uploadimg,\n      time: uploadtime,\n    };\n\n    console.log(uploadProductObject);\n    firestore\n      .collection('product')\n      .add(uploadProductObject)\n      .then(\n        () => setModal(true),\n        setTimeout(() => {\n          setModal(false);\n        }, 1000)\n      )\n      .then(() => history.push('/'));\n  };\n\n  const product = products.find((product) => {\n    return product.id === history.location.pathname.substr(15);\n  });\n\n  const getProductDetail = async () => {\n    // const product = products.find(\n    //   (product) => product.id === history.location.pathname.substr(6)\n    // );\n\n    setEditProduct({\n      title: product.title,\n      price: product.price,\n      desc: product.desc,\n    });\n  };\n\n  const onEditChange = async (event) => {\n    const {\n      target: { name, value },\n    } = event;\n\n    let edittitle, editprice, editdesc;\n    if (name === 'title') {\n      edittitle = value;\n    } else if (name === 'price') {\n      editprice = value;\n    } else if (name === 'desc') {\n      editdesc = value;\n    }\n\n    setEditProduct({ title: edittitle, price: editprice, desc: editdesc });\n\n    if (history.location.pathname.includes('edit') === false) {\n      setEditProduct(null);\n    }\n  };\n\n  const onSubmitEdit = async (event) => {\n    event.preventDefault();\n    // const product = products.find(\n    //   (product) => product.id === history.location.pathname.substr(6)\n    // );\n\n    console.log(product.id);\n    // setEditProduct({\n    //   id: editProduct.id,\n    //   uid: editProduct.uid,\n    //   // img: editProduct.img,\n    //   // time: editProduct.time,\n    //   title: editProduct.title,\n    //   price: editProduct.price,\n    //   desc: editProduct.desc,\n    // });\n    // var newProductKey = database.ref().child('product').push().key;\n\n    // var updates = {};\n    // updates['/product/' + newProductKey] = editProduct;\n    // updates['/product/' + product.uid + '/' + newProductKey] = editProduct;\n\n    // console.log(updates);\n    // await database.ref(`product/${newProductKey}`).update(updates);\n    // firestore.collection('product').doc().update(editProduct);\n\n    console.log(editProduct);\n\n    // firestore\n    //   .collection('product')\n    //   .doc(product.id)\n    //   .update(editData)\n    //   .then((result) => {\n    //     console.log(result);\n    //   });\n  };\n\n  const deleteProduct = async () => {\n    firestore.collection('product').doc(product.id).delete();\n  };\n\n  const createChat = async () => {\n    const date = new Date();\n    const year = date.getFullYear();\n    const month = date.getMonth();\n    const day = date.getDate();\n    const hours = date.getHours();\n    const minutes = date.getMinutes();\n\n    let time = [year, month, day, hours, minutes];\n    const chatData = {\n      name: [user.name, product.user],\n      who: [user.uid, product.uid],\n      product: product.title,\n      time: time,\n      order: date,\n      img: product.img,\n    };\n\n    const chatRoomId = firestore\n      .collection('chatroom')\n      .add(chatData)\n      .then((result) => {\n        setChatRoom({ id: result.id });\n        console.log(result);\n        return result.id;\n      });\n\n    return chatRoomId;\n  };\n\n  const getChatList = async () => {\n    firestore\n      .collection('chatroom')\n      .where('who', 'array-contains', user.uid)\n      .orderBy('order', 'asc')\n      .onSnapshot((db) => {\n        setChatList([]);\n        db.forEach((doc) => {\n          const chatListObject = {\n            ...doc.data(),\n            id: doc.id,\n          };\n          setChatList((prev) => [chatListObject, ...prev]);\n        });\n        console.log(chatList);\n      });\n  };\n\n  const chat = chatList.find((chat) => {\n    return chat.id === history.location.pathname.substr(10);\n  });\n\n  let messageContent, messageTime;\n  const onMessageChange = async (event) => {\n    const date = new Date();\n    const year = date.getFullYear();\n    const month = date.getMonth();\n    const day = date.getDate();\n    const hours = date.getHours();\n    const minutes = date.getMinutes();\n\n    let message = event.target.value;\n    if (message === '') {\n      return;\n    } else {\n      messageContent = message;\n    }\n    messageTime = [year, month, day, hours, minutes];\n  };\n\n  const createChatMessages = async (event) => {\n    event.preventDefault();\n    event.target.firstChild.value = '';\n    event.target.firstChild.focus();\n\n    const messageDataObject = {\n      content: messageContent,\n      time: messageTime,\n      uid: user.uid,\n      name: user.name,\n    };\n\n    firestore\n      .collection('chatroom')\n      .doc(chatRoom.id)\n      .collection('messages')\n      .add(messageDataObject)\n      .then((result) => {\n        console.log(result);\n      });\n  };\n\n  const getChatMessages = async (idLocation) => {\n    const chatId = history.location.pathname.substr(idLocation);\n    firestore\n      .collection('chatroom')\n      .doc(chatId)\n      .collection('messages')\n      .orderBy('time', 'desc')\n      .onSnapshot((db) => {\n        setChatMessages([]);\n        db.forEach((doc) => {\n          let chatMessagesObject = {\n            ...doc.data(),\n            id: doc.id,\n          };\n\n          // const messageId = chatMessages.find((message) => {\n          //   return chatMessagesObject.id === message.id;\n          // });\n          // console.log(messageId);\n          // if (!messageId) {\n          setChatMessages((prev) => [chatMessagesObject, ...prev]);\n          // }\n        });\n      });\n  };\n\n  useEffect(() => {\n    getData();\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <Navbar></Navbar>\n      {modal === true ? <Modal></Modal> : null}\n      <Switch>\n        <Route exact path=\"/\" component={ProductList}>\n          <ProductList products={products}></ProductList>\n        </Route>\n        <Route path=\"/userProfile\" component={UserProfile}>\n          <UserProfile\n            user={user}\n            onClickLogout={onClickLogout}\n            isUser={isUser}\n          ></UserProfile>\n        </Route>\n        <Route path=\"/productDetail/:id\" component={ProductDetail}>\n          <ProductDetail\n            chatMessages={chatMessages}\n            chatList={chatList}\n            products={products}\n            getProductDetail={getProductDetail}\n            createChat={createChat}\n            deleteProduct={deleteProduct}\n            getChatList={getChatList}\n            getChatMessages={getChatMessages}\n          ></ProductDetail>\n        </Route>\n        <Route path=\"/edit/:id\" component={Edit}>\n          <Edit\n            products={products}\n            editProduct={editProduct}\n            onEditChange={onEditChange}\n            onSubmitEdit={onSubmitEdit}\n            getProductDetail={getProductDetail}\n          ></Edit>\n        </Route>\n        <Route path=\"/uploadForm\" component={UploadForm}>\n          <UploadForm\n            onProductChange={onProductChange}\n            onSubmitUploadForm={onSubmitUploadForm}\n            onFileChange={onFileChange}\n          ></UploadForm>\n        </Route>\n        <Route path=\"/chatList\" component={ChatList}>\n          <ChatList\n            chatList={chatList}\n            getChatList={getChatList}\n            getChatMessages={getChatMessages}\n          ></ChatList>\n        </Route>\n\n        <Route path=\"/chatroom/:id\" component={ChatRoom}>\n          <ChatRoom\n            user={user}\n            chatList={chatList}\n            chatMessages={chatMessages}\n            createChatMessages={createChatMessages}\n            onMessageChange={onMessageChange}\n            getChatMessages={getChatMessages}\n          ></ChatRoom>\n        </Route>\n        <Route path=\"/join\" component={Join}>\n          <Join\n            name={name}\n            email={email}\n            password={password}\n            onChange={onChange}\n          ></Join>\n        </Route>\n        <Route path=\"/Login\" component={Login}>\n          <Login\n            email={email}\n            password={password}\n            onChange={onChange}\n            onSubmitLogin={onSubmitLogin}\n          ></Login>\n        </Route>\n      </Switch>\n      <FooterMenu getChatList={getChatList}></FooterMenu>\n    </div>\n  );\n};\n\nfunction Modal() {\n  return <div className=\"modal\">성공</div>;\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport './index.css';\nimport './style/icon.css';\nimport App from './App';\nimport './App.css';\nimport './style/reset.css';\nimport '@fortawesome/fontawesome-free/js/all.js';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}